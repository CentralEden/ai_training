# PoetryåŸºç¤Ž - ãƒãƒ³ã‚ºã‚ªãƒ³å®Ÿç¿’

## ðŸŽ¯ å®Ÿç¿’ã®ç›®æ¨™
å®Ÿéš›ã«ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã¦Poetryã®åŸºæœ¬æ“ä½œã‚’ä½“é¨“ã—ã€ãƒ‡ãƒ¼ã‚¿åˆ†æžãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ç’°å¢ƒæ§‹ç¯‰ã‚’ãƒžã‚¹ã‚¿ãƒ¼ã—ã¾ã™ã€‚

## â±ï¸ æ‰€è¦æ™‚é–“: 1æ™‚é–“

---

## äº‹å‰æº–å‚™

### ç’°å¢ƒç¢ºèª
```bash
# WSL2 Ubuntu 24.04ç’°å¢ƒã§ä»¥ä¸‹ã®ã‚³ãƒžãƒ³ãƒ‰ã‚’å®Ÿè¡Œ
poetry --version
python --version
pwd
```

### ä½œæ¥­ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æº–å‚™
```bash
# ãƒ›ãƒ¼ãƒ ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ~

# å®Ÿç¿’ç”¨ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªä½œæˆ
mkdir poetry-hands-on
cd poetry-hands-on
```

---

## ðŸš€ ãƒãƒ³ã‚ºã‚ªãƒ³ 1: åˆã‚ã¦ã®Poetryãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### Step 1: æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
```bash
# æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
poetry new data-analysis-demo
cd data-analysis-demo

# ä½œæˆã•ã‚ŒãŸæ§‹é€ ã‚’ç¢ºèª
ls -la
tree  # treeã‚³ãƒžãƒ³ãƒ‰ãŒãªã„å ´åˆã¯ find . -type f ã‚’ä½¿ç”¨
```

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] `pyproject.toml` ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚ŒãŸ
- [ ] `data_analysis_demo/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚ŒãŸ
- [ ] `tests/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªãŒä½œæˆã•ã‚ŒãŸ

### Step 2: pyproject.tomlã®å†…å®¹ç¢ºèª
```bash
# pyproject.tomlã®å†…å®¹ã‚’è¡¨ç¤º
cat pyproject.toml
```

**ç†è§£ã™ã¹ãé …ç›®**:
- `[tool.poetry]` ã‚»ã‚¯ã‚·ãƒ§ãƒ³: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæƒ…å ±
- `[tool.poetry.dependencies]` ã‚»ã‚¯ã‚·ãƒ§ãƒ³: å®Ÿéš›ã®ä¾å­˜é–¢ä¿‚
- `[tool.poetry.group.dev.dependencies]` ã‚»ã‚¯ã‚·ãƒ§ãƒ³: é–‹ç™ºç”¨ä¾å­˜é–¢ä¿‚

### Step 3: ä¾å­˜é–¢ä¿‚ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
```bash
# ç¾åœ¨ã®ä¾å­˜é–¢ä¿‚ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
poetry install

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çµæžœã‚’ç¢ºèª
poetry show
```

---

## ðŸ“¦ ãƒãƒ³ã‚ºã‚ªãƒ³ 2: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç®¡ç†ã®å®Ÿè·µ

### Step 1: ãƒ‡ãƒ¼ã‚¿åˆ†æžç”¨ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®è¿½åŠ 
```bash
# pandasã‚’è¿½åŠ 
poetry add pandas

# pyproject.tomlã®å¤‰æ›´ã‚’ç¢ºèª
cat pyproject.toml
```

**ç¢ºèªãƒã‚¤ãƒ³ãƒˆ**:
- [ ] `[tool.poetry.dependencies]` ã«pandasãŒè¿½åŠ ã•ã‚ŒãŸ
- [ ] `poetry.lock` ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚ŒãŸ

### Step 2: è¤‡æ•°ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ 
```bash
# ãƒ‡ãƒ¼ã‚¿åˆ†æžãƒ»å¯è¦–åŒ–ç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä¸€æ‹¬è¿½åŠ 
poetry add numpy matplotlib seaborn

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ¸ˆã¿ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç¢ºèª
poetry show
```

### Step 3: é–‹ç™ºç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®è¿½åŠ 
```bash
# é–‹ç™ºãƒ»ãƒ†ã‚¹ãƒˆç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ 
poetry add --group dev jupyter pytest black

# é–‹ç™ºç”¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å«ã‚ãŸå…¨ä½“ç¢ºèª
poetry show --tree
```

### Step 4: ç‰¹å®šãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®æŒ‡å®š
```bash
# ç‰¹å®šã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’æŒ‡å®šã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
poetry add scikit-learn==1.3.0

# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¯„å›²æŒ‡å®š
poetry add requests^2.28.0

# ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«çµæžœã®ç¢ºèª
poetry show scikit-learn requests
```

---

## ðŸ”§ ãƒãƒ³ã‚ºã‚ªãƒ³ 3: ä»®æƒ³ç’°å¢ƒã®æ“ä½œ

### Step 1: ä»®æƒ³ç’°å¢ƒæƒ…å ±ã®ç¢ºèª
```bash
# ä»®æƒ³ç’°å¢ƒã®æƒ…å ±ã‚’è¡¨ç¤º
poetry env info

# ä»®æƒ³ç’°å¢ƒã®ãƒ‘ã‚¹ã‚’ç¢ºèª
poetry env info --path
```

### Step 2: ä»®æƒ³ç’°å¢ƒå†…ã§ã®ã‚³ãƒžãƒ³ãƒ‰å®Ÿè¡Œ
```bash
# ä»®æƒ³ç’°å¢ƒå†…ã§Pythonãƒãƒ¼ã‚¸ãƒ§ãƒ³ç¢ºèª
poetry run python --version

# ä»®æƒ³ç’°å¢ƒå†…ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ç¢ºèª
poetry run python -c "import pandas; print(pandas.__version__)"
```

### Step 3: ä»®æƒ³ç’°å¢ƒã‚·ã‚§ãƒ«ã®èµ·å‹•
```bash
# ä»®æƒ³ç’°å¢ƒã‚·ã‚§ãƒ«ã‚’èµ·å‹•
poetry shell

# ã‚·ã‚§ãƒ«å†…ã§ã‚³ãƒžãƒ³ãƒ‰å®Ÿè¡Œï¼ˆä»®æƒ³ç’°å¢ƒå†…ï¼‰
python --version
python -c "import numpy; print('NumPy version:', numpy.__version__)"

# ä»®æƒ³ç’°å¢ƒã‹ã‚‰æŠœã‘ã‚‹
exit
```

---

## ðŸ“Š ãƒãƒ³ã‚ºã‚ªãƒ³ 4: å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿åˆ†æžãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ

### Step 1: ã‚µãƒ³ãƒ—ãƒ«ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ä½œæˆ
```bash
# ãƒ¡ã‚¤ãƒ³ã®Pythonãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
cat > data_analysis_demo/main.py << 'EOF'
"""
ç°¡å˜ãªãƒ‡ãƒ¼ã‚¿åˆ†æžã®ã‚µãƒ³ãƒ—ãƒ«
"""
import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns

def create_sample_data():
    """ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã®ä½œæˆ"""
    np.random.seed(42)
    data = {
        'month': ['1æœˆ', '2æœˆ', '3æœˆ', '4æœˆ', '5æœˆ', '6æœˆ'],
        'sales': np.random.randint(100, 1000, 6),
        'profit': np.random.randint(10, 100, 6)
    }
    return pd.DataFrame(data)

def analyze_data(df):
    """ãƒ‡ãƒ¼ã‚¿ã®åŸºæœ¬çµ±è¨ˆåˆ†æž"""
    print("=== ãƒ‡ãƒ¼ã‚¿ã®æ¦‚è¦ ===")
    print(df.head())
    print("\n=== åŸºæœ¬çµ±è¨ˆé‡ ===")
    print(df.describe())
    return df

def visualize_data(df):
    """ãƒ‡ãƒ¼ã‚¿ã®å¯è¦–åŒ–"""
    plt.figure(figsize=(10, 6))
    
    # å£²ä¸Šã®ã‚°ãƒ©ãƒ•
    plt.subplot(1, 2, 1)
    plt.bar(df['month'], df['sales'])
    plt.title('æœˆåˆ¥å£²ä¸Š')
    plt.xlabel('æœˆ')
    plt.ylabel('å£²ä¸Š')
    
    # åˆ©ç›Šã®ã‚°ãƒ©ãƒ•
    plt.subplot(1, 2, 2)
    plt.plot(df['month'], df['profit'], marker='o')
    plt.title('æœˆåˆ¥åˆ©ç›Š')
    plt.xlabel('æœˆ')
    plt.ylabel('åˆ©ç›Š')
    
    plt.tight_layout()
    plt.savefig('analysis_result.png')
    plt.show()

if __name__ == "__main__":
    # ãƒ‡ãƒ¼ã‚¿åˆ†æžã®å®Ÿè¡Œ
    df = create_sample_data()
    df = analyze_data(df)
    visualize_data(df)
    print("\nåˆ†æžå®Œäº†ï¼ã‚°ãƒ©ãƒ•ã¯ analysis_result.png ã«ä¿å­˜ã•ã‚Œã¾ã—ãŸã€‚")
EOF
```

### Step 2: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å®Ÿè¡Œ
```bash
# PoetryçµŒç”±ã§ã‚¹ã‚¯ãƒªãƒ—ãƒˆå®Ÿè¡Œ
poetry run python data_analysis_demo/main.py

# çµæžœãƒ•ã‚¡ã‚¤ãƒ«ã®ç¢ºèª
ls -la *.png
```

### Step 3: Jupyter Labã®èµ·å‹•
```bash
# Jupyter Labã‚’èµ·å‹•
poetry run jupyter lab

# ãƒ–ãƒ©ã‚¦ã‚¶ãŒé–‹ã‹ãªã„å ´åˆã¯è¡¨ç¤ºã•ã‚ŒãŸURLã‚’ã‚³ãƒ”ãƒ¼ã—ã¦æ‰‹å‹•ã§ã‚¢ã‚¯ã‚»ã‚¹
# Ctrl+C ã§åœæ­¢
```

---

## ðŸ”„ ãƒãƒ³ã‚ºã‚ªãƒ³ 5: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°ã¨å‰Šé™¤

### Step 1: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°
```bash
# æ›´æ–°å¯èƒ½ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®ç¢ºèª
poetry show --outdated

# ç‰¹å®šã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’æ›´æ–°
poetry update pandas

# å…¨ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®æ›´æ–°
poetry update
```

### Step 2: ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã®å‰Šé™¤
```bash
# ä¸è¦ãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å‰Šé™¤
poetry remove requests

# å‰Šé™¤çµæžœã®ç¢ºèª
poetry show | grep requests
```

### Step 3: ä¾å­˜é–¢ä¿‚ã®æ•´ç†
```bash
# ä¾å­˜é–¢ä¿‚ãƒ„ãƒªãƒ¼ã®ç¢ºèª
poetry show --tree

# å­¤ç«‹ã—ãŸä¾å­˜é–¢ä¿‚ã®ãƒã‚§ãƒƒã‚¯ï¼ˆæ‰‹å‹•ç¢ºèªï¼‰
poetry show
```

---

## ðŸ§ª ãƒãƒ³ã‚ºã‚ªãƒ³ 6: åˆ¥ç’°å¢ƒã§ã®å†ç¾

### Step 1: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®è¤‡è£½æº–å‚™
```bash
# ç¾åœ¨ã®ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‹ã‚‰è¦ªãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd ..

# ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ã‚³ãƒ”ãƒ¼ï¼ˆåˆ¥ç’°å¢ƒã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆï¼‰
cp -r data-analysis-demo data-analysis-demo-copy
cd data-analysis-demo-copy
```

### Step 2: ä»®æƒ³ç’°å¢ƒã®å‰Šé™¤ã¨å†ä½œæˆ
```bash
# æ—¢å­˜ã®ä»®æƒ³ç’°å¢ƒã‚’å‰Šé™¤
poetry env remove python

# ä¾å­˜é–¢ä¿‚ã®å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
poetry install

# ç’°å¢ƒãŒæ­£ã—ãå†ç¾ã•ã‚ŒãŸã‹ç¢ºèª
poetry run python data_analysis_demo/main.py
```

---

## ðŸ” ãƒãƒ³ã‚ºã‚ªãƒ³ 7: ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### Step 1: æ„å›³çš„ã«ã‚¨ãƒ©ãƒ¼ã‚’ç™ºç”Ÿã•ã›ã‚‹
```bash
# å­˜åœ¨ã—ãªã„ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’è¿½åŠ ã—ã¦ã¿ã‚‹
poetry add non-existent-package-12345

# ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ç¢ºèª
```

### Step 2: ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢
```bash
# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ç¢ºèª
poetry cache list

# ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã®ã‚¯ãƒªã‚¢
poetry cache clear --all pypi
```

### Step 3: ç’°å¢ƒã®ãƒªã‚»ãƒƒãƒˆ
```bash
# ä»®æƒ³ç’°å¢ƒã®å®Œå…¨ãƒªã‚»ãƒƒãƒˆ
poetry env remove python
poetry install
poetry env info
```

---

## âœ… å®Ÿç¿’ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### åŸºæœ¬æ“ä½œ
- [ ] `poetry new` ã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
- [ ] `poetry add` ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸è¿½åŠ 
- [ ] `poetry remove` ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸å‰Šé™¤
- [ ] `poetry install` ã§ä¾å­˜é–¢ä¿‚ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
- [ ] `poetry show` ã§ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¸€è¦§ç¢ºèª

### ä»®æƒ³ç’°å¢ƒæ“ä½œ
- [ ] `poetry run` ã§ã‚³ãƒžãƒ³ãƒ‰å®Ÿè¡Œ
- [ ] `poetry shell` ã§ä»®æƒ³ç’°å¢ƒèµ·å‹•
- [ ] `poetry env info` ã§ç’°å¢ƒæƒ…å ±ç¢ºèª

### ãƒ•ã‚¡ã‚¤ãƒ«ç†è§£
- [ ] `pyproject.toml` ã®å†…å®¹ç†è§£
- [ ] `poetry.lock` ã®å½¹å‰²ç†è§£

### å®Ÿè·µçš„ãªä½¿ç”¨
- [ ] ãƒ‡ãƒ¼ã‚¿åˆ†æžãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ç®¡ç†
- [ ] Jupyter Lab ã§ã®é–‹ç™º
- [ ] ç’°å¢ƒã®è¤‡è£½ã¨å†ç¾

---

## ðŸŽ“ ã¾ã¨ã‚ã¨æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### ä»Šæ—¥ç¿’å¾—ã—ãŸã‚¹ã‚­ãƒ«
1. **Poetryã®åŸºæœ¬æ¦‚å¿µ**: ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã€ä¾å­˜é–¢ä¿‚ã€ä»®æƒ³ç’°å¢ƒ
2. **å®Ÿç”¨çš„ãªã‚³ãƒžãƒ³ãƒ‰**: add, remove, install, show, run
3. **ãƒ‡ãƒ¼ã‚¿åˆ†æžç’°å¢ƒã®æ§‹ç¯‰**: pandas, numpy, matplotlibç­‰ã®ç®¡ç†
4. **ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°**: å•é¡Œç™ºç”Ÿæ™‚ã®å¯¾å‡¦æ³•

### å®Ÿå‹™ã§ã®æ´»ç”¨æ–¹æ³•
```bash
# æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–‹å§‹æ™‚ã®æŽ¨å¥¨ãƒ•ãƒ­ãƒ¼
poetry new my-new-project
cd my-new-project
poetry add pandas numpy matplotlib seaborn jupyter
poetry add --group dev pytest black
poetry run jupyter lab
```

### æ¬¡ã®å®Ÿç¿’èª²é¡Œ
1. **å€‹äººãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ**: å®Ÿéš›ã®ãƒ‡ãƒ¼ã‚¿ã‚’ä½¿ã£ãŸåˆ†æžãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ
2. **ç’°å¢ƒå…±æœ‰**: ãƒãƒ¼ãƒ ãƒ¡ãƒ³ãƒãƒ¼ã¨ã®ç’°å¢ƒå…±æœ‰å®Ÿè·µ
3. **Gité€£æº**: Poetryãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†

---

## ðŸ”— å‚è€ƒãƒªãƒ³ã‚¯
- [Poetryå…¬å¼ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ](https://python-poetry.org/docs/)
- [æ¬¡ã®å®Ÿç¿’: GitåŸºç¤Ž](../git_basics/hands_on.md)

ãŠç–²ã‚Œã•ã¾ã§ã—ãŸï¼Poetryã®åŸºæœ¬æ“ä½œã‚’ãƒžã‚¹ã‚¿ãƒ¼ã§ãã¾ã—ãŸã€‚
ç¶šã„ã¦ Git ã®å®Ÿç¿’ã«é€²ã¿ã¾ã—ã‚‡ã†ï¼ 